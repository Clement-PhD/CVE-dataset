use indicatif::MultiProgress;
use lazy_static::lazy_static;

use log::{debug, info, warn, error};
use rust_utils::params::common_params::PROGRESS_STYLE;

pub mod argv;


lazy_static! {
    pub static ref COMMON_BAR : MultiProgress = MultiProgress::new();
}

pub fn new_bar(len: u64) -> indicatif::ProgressBar {
    let bar = COMMON_BAR.add(indicatif::ProgressBar::new(len));
    bar.set_style(PROGRESS_STYLE.clone());
    bar
}

pub fn remove_bar(bar: indicatif::ProgressBar) {
    COMMON_BAR.remove(&bar);
}

pub fn debug(display: String) {
    COMMON_BAR.suspend(|| {
        debug!("{}", display);
    });
}

pub fn info(display: String) {
    COMMON_BAR.suspend(|| {
        info!("{}", display);
    });
}


pub fn warn(display: String) {
    COMMON_BAR.suspend(|| {
        warn!("{}", display);
    });
}

pub fn error(display: String) {
    COMMON_BAR.suspend(|| {
        error!("{}", display);
    });
}