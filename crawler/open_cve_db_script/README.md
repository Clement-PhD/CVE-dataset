# CVE-database
Use [openCVE](https://docs.opencve.io/installation/manual/) to create custom CVE database

# Docker

To start the daemon : 
```shell
sudo systemctl start docker
```

To start the docker
```shell
cd openCVE-git
docker compose up -d
```


# postgree

[Here](https://www.postgresql.org/docs/) is the doc.

## Dump

```shell
# to find the UID
docker ps

docker exec -t [UID] pg_dump -U opencve -h localhost opencve > dump.sql
```

The dump is 2go large > gitignore

## restore the dump

```shell
# Start the shell
docker exec -it [UID] psql -U opencve -d postgres
```

inside the shell

> If the table already exist, drop it before : `DROP DATABASE IF EXISTS new_database_name;`

```sql
CREATE DATABASE new_database_name;
\q
```

Import the dump
```shell
cat dump.sql | docker exec -i [UID] psql -U opencve -d new_database_name

```

# Postgree tool

## Vanilla

> WARN : don't use it ! use the one in the docker compose

Here is a pgadmin docker :

```shell
docker run --rm -p 5050:5050 thajeztah/pgadmin4
```

So you can use the [tool](http://0.0.0.0:5050/) to connect to the database :

url : 127.0.0.1
port : 5432
user : opencve
password : opencve
db : opencve

##  Docker compose pgadmin

their is a pgadmin in the docker compose [here](http://0.0.0.0:5050). To connect to the database, use :

url : postgres
port : 5432
user : opencve
password : opencve
db : opencve