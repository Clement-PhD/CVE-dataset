@@ -39,6 +39,7 @@
 #include "target_core_user_local.h"
 #include "libtcmu.h"
 #include "scsi_defs.h"
+#include "libtcmu_log.h"
 
 struct tcmu_device *tcmu_dev_array[128];
 size_t dev_array_len = 0;
@@ -54,11 +55,6 @@ static int set_medium_error(uint8_t *sense)
 	return tcmu_set_sense_data(sense, MEDIUM_ERROR, ASC_READ_ERROR, NULL);
 }
 
-static bool foo_check_config(const char *cfgstring, char **reason)
-{
-	 return true;
-}
-
 static int foo_open(struct tcmu_device *dev)
 {
 	/* open the backing file */
@@ -138,8 +134,6 @@ static struct tcmulib_handler foo_handler = {
 	.subtype = "foo",
 	.cfg_desc = "a description goes here",
 
-	.check_config = foo_check_config,
-
 	.added = foo_open,
 	.removed = foo_close,
 };