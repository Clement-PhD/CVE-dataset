@@ -126,8 +126,11 @@ function pdf_create(
         $interval = 3600;
         if ($handle = @opendir(preg_replace('/\/$/', '', './uploads/temp/'))) {
             while (false !== ($file = readdir($handle))) {
-                if (($file != '..') && ($file != '.') && !is_dir($file) && ((filemtime('./uploads/temp/' . $file) + $interval) < time()) && (substr($file, 0, 1) !== '.') && ($file != 'remove.txt')) { // mPDF 5.7.3
-                    unlink(UPLOADS_FOLDER . 'temp/' . $file);
+                if (
+                    $file && !in_array($file, ['..', '.', 'remove.txt'])
+                    && !is_dir($file) && (substr($file, 0, 1) !== '.')
+                    && (filemtime('./uploads/temp/' . $file) + $interval) < time()) {
+                        unlink(UPLOADS_FOLDER . 'temp/' . $file);
                 }
             }
             closedir($handle);