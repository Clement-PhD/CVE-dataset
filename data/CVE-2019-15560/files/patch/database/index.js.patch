@@ -2,10 +2,9 @@ const { Client } = require('pg');
 const Pool = require('./queries.js');
 
 module.exports.getAllReviews = (restaurantId, callback) => {
-  Pool.pool.query(`
-    SELECT * FROM reviews
-    INNER JOIN users on reviews.user_id = users.id 
-    WHERE restaurant_id = ${restaurantId}`, (err, results) => {
+  let query = 'SELECT * FROM reviews INNER JOIN users on reviews.user_id = users.id WHERE restaurant_id = $1';
+  let value = [restaurantId];
+  Pool.pool.query(query, value, (err, results) => {
       if (err) { 
         callback(err);
       } else {
@@ -17,8 +16,9 @@ module.exports.getAllReviews = (restaurantId, callback) => {
 
 module.exports.getSummary = (restaurantId, callback) => {
   // get restaurant summary info from restaurant table
-  Pool.pool.query(`
-  SELECT * FROM restaurants WHERE id = ${restaurantId}`, (err, results) => {
+  let query = 'SELECT * FROM restaurants WHERE id = $1';
+  let value = [restaurantId];
+  Pool.pool.query(query, value, (err, results) => {
     if (err) {
       callback(err);
     } else {
@@ -28,42 +28,19 @@ module.exports.getSummary = (restaurantId, callback) => {
 };
 
 module.exports.createReview = (reviewData, callback) => {
-  const client = new Client({
-    user: dbconf.role,
-    host: dbconf.host,
-    database: 'reviews',
-    password: dbconf.password,
-    port: 5432
-  });
-
-  const insertReview = `INSERT INTO reviews
-    (
-      restaurant,
-      diner,
-      text,
-      date,
-      overall,
-      food,
-      service,
-      ambience,
-      wouldrecommend,
-      tags
-    ) 
-    VALUES
-    (
-      ${reviewData.restaurant},
-      ${reviewData.diner},
-      ${reviewData.text},
-      ${reviewData.date},
-      ${reviewData.overall},
-      ${reviewData.food},
-      ${reviewData.service},
-      ${reviewData.ambience},
-      ${reviewData.wouldrecommend},
-      ${reviewData.tags},
-    )`;
-  
-    makeQuery(client, insertReview, callback);
+  let query = 'INSERT INTO reviews (id, restaurant_id, user_id, text, date, overall_score, food_score,' + 
+              ' service_score, ambience_score, value_score, is_recommended, tags) VALUES' + 
+              " (nextval('reviews_id_seq_override'), $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)";
+  let values = [reviewData.restaurant_id, reviewData.user_id, reviewData.text, reviewData.date, 
+                reviewData.overall_score, reviewData.food_score, reviewData.service_score, reviewData.ambience_score,
+                reviewData.value_score, reviewData.is_recommended, reviewData.tags];
+  Pool.pool.query(query, values, (err) => {
+    if (err) {
+      callback(err);
+    } else {
+      callback(null);
+    }
+  })
 }
 
 module.exports.editReview = (reviewData, callback) => {