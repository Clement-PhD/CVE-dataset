--- /dev/null
+++ /dev/null
@@ -360,34 +335,4 @@ private static byte[] deflate(byte[] bytes) throws IOException {
         stream.close();
         return out.toByteArray();
     }
-
-    private static final class TestByteBufAllocator extends AbstractByteBufAllocator {
-        private ByteBufAllocator wrapped;
-        private int maxAllocation;
-
-        TestByteBufAllocator(ByteBufAllocator wrapped) {
-            this.wrapped = wrapped;
-        }
-
-        public int getMaxAllocation() {
-            return maxAllocation;
-        }
-
-        @Override
-        public boolean isDirectBufferPooled() {
-            return wrapped.isDirectBufferPooled();
-        }
-
-        @Override
-        protected ByteBuf newHeapBuffer(int initialCapacity, int maxCapacity) {
-            maxAllocation = Math.max(maxAllocation, maxCapacity);
-            return wrapped.heapBuffer(initialCapacity, maxCapacity);
-        }
-
-        @Override
-        protected ByteBuf newDirectBuffer(int initialCapacity, int maxCapacity) {
-            maxAllocation = Math.max(maxAllocation, maxCapacity);
-            return wrapped.directBuffer(initialCapacity, maxCapacity);
-        }
-    }
 
