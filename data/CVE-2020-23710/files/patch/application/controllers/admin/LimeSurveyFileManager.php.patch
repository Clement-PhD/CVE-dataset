@@ -19,6 +19,7 @@
  *
  * @package    LimeSurvey
  * @subpackage Backend
+ * @deprecated (Filemanager (self-made) is now an beta feature (will be implemented in the future))
  */
 class LimeSurveyFileManager extends Survey_Common_Action
 {
@@ -63,6 +64,25 @@ public function getAllowedFileExtensions()
      * @return void Renders HTML-page
      */
     public function index($surveyid = null)
+    {
+        if ($surveyid !== null) {
+            $oSurvey = Survey::model()->findByPk($surveyid);
+            $aData['surveyid'] = $surveyid;
+            $aData['presetFolder'] = 'upload' . DIRECTORY_SEPARATOR . 'surveys' . DIRECTORY_SEPARATOR . $surveyid;
+            $aData['surveybar']['buttons']['view'] = true;
+            $aData['title_bar']['title'] = $oSurvey->currentLanguageSettings->surveyls_title . " (" . gT("ID") . ":" . $surveyid . ")";
+            $aData['subaction'] = gT("File manager");
+        }
+
+        $this->_renderWrappedTemplate('SurveyFiles', $renderView, $aData);
+    }
+
+    /**
+     * Renders the File Manager (old one, selfmade) as beta feature.
+     * @param int $surveyid
+     * @return void
+     */
+    public function indexBeta(int $surveyid)
     {
         $aTranslate = [
             'File management' => gT('File management'),
@@ -92,13 +112,14 @@ public function index($surveyid = null)
             'File formats' => '.'.gT(implode(", .", $this->allowedFileExtensions))
         ];
 
-        Yii::app()->getClientScript()->registerPackage('filemanager');
-        $aData['jsData'] = [
-            'surveyid' => $surveyid,
-            'i10N' => $aTranslate,
-            'allowedFileTypes' => $this->allowedFileExtensions,
-            'baseUrl' => $this->getController()->createUrl('admin/filemanager', ['sa' => '']),
-        ];
+        // Commented this out, cause its not needed anymore (filemanager will be a beta feature).
+        //Yii::app()->getClientScript()->registerPackage('filemanager');
+        //$aData['jsData'] = [
+          //  'surveyid' => $surveyid,
+          //  'i10N' => $aTranslate,
+          //  'allowedFileTypes' => $this->allowedFileExtensions,
+          //  'baseUrl' => $this->getController()->createUrl('admin/filemanager', ['sa' => '']),
+        //];
         $renderView = $surveyid == null ? 'view' : 'surveyview';
 
         if ($surveyid !== null) {
@@ -442,7 +463,7 @@ public function downloadFiles()
         }
 
         $urlFormat = Yii::app()->getUrlManager()->getUrlFormat();
-        $getFileLink = Yii::app()->createUrl('admin/filemanager/sa/getZipFile');
+        //$getFileLink = Yii::app()->createUrl('admin/filemanager/sa/getZipFile'); // Commented it out, cause its not needed anymore. (Filemanager will be a beta feature).
         $_SESSION['__path'] = $zipFilename;
 
         $this->printJsonResponse(