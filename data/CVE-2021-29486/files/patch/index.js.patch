@@ -10,6 +10,14 @@ module.exports = function(data){
     "use strict";
     var f, sorted, xs, ps, i, j, l, xx;
     if (Array.isArray(data) && (data.length>0)){
+	for(i=0,l=data.length;i<l;++i){
+	    if (typeof(data[i])!=='number'){
+                throw new TypeError("cdf data must be an array of finite numbers, got:"+typeof(data[i])+" at "+i);
+	    }
+	    if (!isFinite(data[i])){ 
+		throw new TypeError("cdf data must be an array of finite numbers, got:"+data[i]+" at "+i);
+	    }
+	}
 	sorted = data.slice().sort(function(a,b){ return +a-b; });
 	xs = [];
 	ps = [];
@@ -28,6 +36,8 @@ module.exports = function(data){
 	    }
 	}
 	f = function(x){
+        if (typeof(x)!=='number')  throw new TypeError('cdf function input must be a number, got:'+typeof(x));
+	    if (Number.isNaN(x)) return Number.NaN;
 	    var left=0, right=xs.length-1, mid, midval;
 	    if (x<xs[0]) return 0;
 	    if (x>=xs[xs.length-1]) return 1;
@@ -53,9 +63,7 @@ module.exports = function(data){
 	};
     } else {
 	// missing or zero length data
-	f = function(){};
-	f.xs = function(){ return [] };
-	f.ps = f.xs;
+        throw new TypeError("cdf data must be an array of finite numbers, got: missing or empty array");
     }
     return f;
 };