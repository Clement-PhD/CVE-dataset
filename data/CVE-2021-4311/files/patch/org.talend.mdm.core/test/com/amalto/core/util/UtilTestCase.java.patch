@@ -20,19 +20,16 @@
 import javax.xml.xpath.XPathConstants;
 import javax.xml.xpath.XPathFactory;
 
-import junit.framework.TestCase;
-
-import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.LogManager;
 import org.talend.mdm.commmon.util.core.MDMConfiguration;
+import org.talend.mdm.commmon.util.core.MDMXMLUtils;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 import org.w3c.dom.Node;
 import org.w3c.dom.NodeList;
 import org.xml.sax.InputSource;
 import org.xml.sax.SAXException;
 
-import com.amalto.commons.core.utils.XMLUtils;
 import com.amalto.core.delegator.IValidation;
 import com.amalto.core.objects.DroppedItemPOJO;
 import com.amalto.core.objects.ItemPOJO;
@@ -48,6 +45,8 @@
 import com.amalto.xmlserver.interfaces.WhereCondition;
 import com.amalto.xmlserver.interfaces.WhereLogicOperator;
 
+import junit.framework.TestCase;
+
 /**
  * DOC achen class global comment. Detailled comment
  */
@@ -381,7 +380,7 @@ public void testSetUserPropertyDoesNotExist() throws Exception {
         Document user = Util.parse(xml);
         Util.setUserProperty(user, "newprop", "newvalue");
 
-        String result = XMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
+        String result = MDMXMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
         assertEquals("<User><username>A</username><id>B</id><properties><property><name>x</name><value>y</value></property><property><name>newprop</name><value>newvalue</value></property></properties></User>", result);
     }
 
@@ -390,7 +389,7 @@ public void testSetUserPropertyNoProperties() throws Exception {
         Document user = Util.parse(xml);
         Util.setUserProperty(user, "newprop", "newvalue");
 
-        String result = XMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
+        String result = MDMXMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
         assertEquals("<User><username>A</username><id>B</id><properties><property><name>newprop</name><value>newvalue</value></property></properties></User>", result);
     }
 
@@ -399,7 +398,7 @@ public void testSetUserPropertyOverride() throws Exception {
         Document user = Util.parse(xml);
         Util.setUserProperty(user, "x", "z");
 
-        String result = XMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
+        String result = MDMXMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
         assertEquals("<User><username>A</username><id>B</id><properties><property><name>x</name><value>z</value></property></properties></User>", result);
     }
 
@@ -408,7 +407,7 @@ public void testSetUserPropertyNullName() throws Exception {
         Document user = Util.parse(xml);
         Util.setUserProperty(user, null, "z");
 
-        String result = XMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
+        String result = MDMXMLUtils.nodeToString(user, true, false).replaceAll("\r\n", "\n");
         assertEquals("<User><username>A</username><id>B</id><properties><property><name>x</name><value>y</value></property></properties></User>", result);
     }
 