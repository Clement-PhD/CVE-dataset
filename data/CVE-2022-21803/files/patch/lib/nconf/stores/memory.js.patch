@@ -92,7 +92,7 @@ Memory.prototype.set = function (key, value) {
   //
   while (path.length > 1) {
     key = path.shift();
-    if (!target[key] || typeof target[key] !== 'object') {
+    if (!target[key] || typeof target[key] !== 'object' || !Object.hasOwnProperty.call(target, key)) {
       target[key] = {};
     }
 