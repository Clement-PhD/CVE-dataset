@@ -1439,3 +1439,35 @@ tests:
               relation: viewer
               user: user:*
             expectation: true
+
+  - name: prior_type_restrictions_ignored
+    stages:
+      - model: |
+          type user
+
+          type document
+            relations
+              define viewer: [user] as self
+        tuples:
+          - object: document:1
+            relation: viewer
+            user: user:jon
+        assertions:
+          - tuple:
+              object: document:1
+              relation: viewer
+              user: user:jon
+            expectation: true
+      - model: |
+          type user
+          type employee
+
+          type document
+            relations
+              define viewer: [employee] as self
+        assertions:
+          - tuple:
+              object: document:1
+              relation: viewer
+              user: user:jon
+            expectation: false
