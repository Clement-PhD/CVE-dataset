@@ -37,6 +37,8 @@ function escapeShellArgWithInterpolation(arg, shell) {
 
   if (shell.endsWith("zsh")) {
     result = result.replace(/^=/gu, "\\=").replace(/(\[|\]|\{|\})/g, "\\$1");
+  } else {
+    result = result.replace(/(?<=\=(?:.*?:)?)(~)(?=\:|$)/g, "\\$1");
   }
 
   return result;