@@ -1,8 +1,12 @@
 package main
 
 import (
+	"errors"
 	"fmt"
 	"log"
+	gohttp "net/http"
+	goos "os"
+	"os/signal"
 	"time"
 
 	"github.com/portainer/agent"
@@ -232,10 +236,14 @@ func main() {
 	}
 
 	err = startAPIServer(config)
-	if err != nil {
+	if err != nil && !errors.Is(err, gohttp.ErrServerClosed) {
 		log.Fatalf("[ERROR] [main,http] [message: Unable to start Agent API server] [error: %s]", err)
 	}
 
+	sigs := make(chan goos.Signal, 1)
+	signal.Notify(sigs)
+	<-sigs
+
 	// !API
 }
 