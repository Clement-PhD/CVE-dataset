@@ -5,6 +5,9 @@
 #include "ALSA9Dynamic.h"
 #include "PrefsManager.h"
 
+#include <fstream>
+#include <string>
+
 /* int err; must be defined before using this macro */
 #define ALSA_CHECK(x) \
        if ( err < 0 ) { LOG->Info("ALSA: %s: %s", x, dsnd_strerror(err)); return false; }
@@ -140,11 +143,12 @@ void Alsa9Buf::GetSoundCardDebugInfo()
 		return;
 	done = true;
 
-	if( DoesFileExist("/rootfs/proc/asound/version") )
+	std::ifstream f("/proc/asound/version");
+	if (f.good())
 	{
-		RString sVersion;
-		GetFileContents( "/rootfs/proc/asound/version", sVersion, true );
-		LOG->Info( "ALSA: %s", sVersion.c_str() );
+		std::string version;
+		std::getline(f, version);
+		LOG->Info( "ALSA: %s", version.c_str() );
 	}
 
 	InitializeErrorHandler();