@@ -1,6 +1,8 @@
 from typing import Optional, Any
 from defusedxml.minidom import parseString
+from pyexpat import ExpatError
 from json2xml import dicttoxml
+from .utils import InvalidDataError
 
 
 class Json2xml:
@@ -33,6 +35,10 @@ def to_xml(self) -> Optional[Any]:
                 item_wrap=self.item_wrap,
             )
             if self.pretty:
-                return parseString(xml_data).toprettyxml()
+                try:
+                    result = parseString(xml_data).toprettyxml()
+                except ExpatError as e:
+                    raise InvalidDataError
+                return result
             return xml_data
         return None