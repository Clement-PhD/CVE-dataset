@@ -20,12 +20,12 @@
 package com.xpn.xwiki.objects.classes;
 
 import java.util.ArrayList;
+import java.util.Arrays;
 import java.util.Collections;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
 
-import org.apache.commons.lang3.StringUtils;
 import org.apache.ecs.xhtml.input;
 import org.apache.ecs.xhtml.option;
 import org.apache.ecs.xhtml.select;
@@ -50,6 +50,8 @@ public class LevelsClass extends ListClass
 
     private static final String XCLASSNAME = "levelslist";
 
+    private static final String COMMA = ",";
+
     public LevelsClass(PropertyMetaClass wclass)
     {
         super(XCLASSNAME, "Levels List", wclass);
@@ -61,6 +63,12 @@ public LevelsClass()
         this(null);
     }
 
+    @Override
+    protected String getFirstSeparator()
+    {
+        return COMMA;
+    }
+
     @Override
     public List<String> getList(XWikiContext context)
     {
@@ -108,25 +116,26 @@ public BaseProperty fromString(String value)
     @Override
     public BaseProperty fromStringArray(String[] strings)
     {
-        List<String> list = new ArrayList<String>();
-        for (int i = 0; i < strings.length; i++) {
-            if (!strings[i].trim().equals("")) {
-                list.add(strings[i]);
-            }
-        }
+        List<String> list = Arrays.asList(strings);
         BaseProperty prop = newProperty();
-        fromList(prop, list);
+        fromList(prop, list, true);
         return prop;
     }
 
+    @Override
+    public void fromList(BaseProperty<?> property, List<String> list)
+    {
+        fromList(property, list, true);
+    }
+
     public String getText(String value, XWikiContext context)
     {
         return value;
     }
 
     public static List<String> getListFromString(String value)
     {
-        return getListFromString(value, ",", false);
+        return getListFromString(value, COMMA, false, true);
     }
 
     @Override
@@ -194,12 +203,6 @@ public List<String> toList(BaseProperty<?> property)
         return selectlist;
     }
 
-    @Override
-    public void fromList(BaseProperty<?> property, List<String> list)
-    {
-        property.setValue(list != null ? StringUtils.join(list, ',') : null);
-    }
-
     @Override
     public <T extends EntityReference> void mergeProperty(BaseProperty<T> currentProperty,
         BaseProperty<T> previousProperty, BaseProperty<T> newProperty, MergeConfiguration configuration,