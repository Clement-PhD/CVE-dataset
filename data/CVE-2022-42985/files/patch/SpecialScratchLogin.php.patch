@@ -1,9 +1,11 @@
 <?php
 require_once __DIR__ . '/ScratchLogin.common.php';
 
+use MediaWiki\User\UserFactory;
+
 class SpecialScratchLogin extends ScratchSpecialPage {
-	function __construct() {
-		parent::__construct('ScratchLogin');
+	function __construct(UserFactory $userFactory) {
+		parent::__construct('ScratchLogin', $userFactory);
 	}
 
 	function getGroupName() {
@@ -20,7 +22,7 @@ function onPost($out, $request) {
 		// this handles all of the error message showing
 		// and returns null if failed
 		$user = $this->verifSucceeded($out, $request);
-		if ($user == null) return;
+		if ($user === null) return;
 		// now that we have passed all the other hurdles, log in the user
 		// set the logged in user to the user found by that name
 		$request->getSession()->setUser($user);