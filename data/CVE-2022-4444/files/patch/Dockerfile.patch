@@ -1,5 +1,10 @@
 FROM ipti/yii2
 COPY . /app
+WORKDIR /app/app
+COPY --from=composer:latest /usr/bin/composer /usr/local/bin/composer
+RUN composer update with the "--no-plugins"
+RUN composer install
+WORKDIR /app
 ENV MUSL_LOCALE_DEPS cmake make musl-dev gcc gettext-dev libintl 
 ENV MUSL_LOCPATH /usr/share/i18n/locales/musl
 RUN apk add --no-cache \
@@ -15,4 +20,4 @@ RUN sed -i "s|memory_limit=128M|memory_limit=512M|g" /usr/local/etc/php/conf.d/b
 RUN sed -i "s|fastcgi_pass 127.0.0.1:9000;|fastcgi_pass 127.0.0.1:9000;fastcgi_read_timeout 2400;proxy_read_timeout 2400;|g" /etc/nginx/conf.d/default.conf
 RUN chmod 777 /usr/local/bin/docker-run.sh
 RUN chown -R www-data:www-data /app \
-&& chown -R www-data:www-data /app/assets
+&& chown -R www-data:www-data /app/assets \
\ No newline at end of file