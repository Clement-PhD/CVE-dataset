@@ -30,10 +30,16 @@ spec:
               - matchExpressions:
                 - key: "kubernetes.io/arch"
                   operator: In
-                  values: ["amd64"]
+                  values:
+                    {{- with .Values.nodeAffinity.kubernetesIoArch }}
+                      {{- toYaml . | nindent 20 }}
+                    {{- end }}
                 - key: "beta.kubernetes.io/arch"
                   operator: In
-                  values: ["amd64"]
+                  values:
+                    {{- with .Values.nodeAffinity.kubernetesIoArch }}
+                      {{- toYaml . | nindent 20 }}
+                    {{- end }}
       serviceAccountName: {{ include "snyk-monitor.name" . }}
       restartPolicy: Always
       initContainers:
@@ -89,6 +95,11 @@ spec:
               secretKeyRef:
                 name: {{ .Values.monitorSecrets }}
                 key: integrationId
+          - name: SNYK_SERVICE_ACCOUNT_API_TOKEN
+            valueFrom:
+              secretKeyRef:
+                name: snyk-monitor
+                key: serviceAccountApiToken
           - name: SNYK_WATCH_NAMESPACE
             value: {{ include "snyk-monitor.scope" . }}
           - name: SNYK_DEPLOYMENT_NAMESPACE