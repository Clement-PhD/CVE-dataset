@@ -66,10 +66,11 @@ protected function createNonExistingNode($path) {
 	 * @throws \OCP\Files\NotPermittedException
 	 */
 	public function getFullPath($path) {
+		$path = $this->normalizePath($path);
 		if (!$this->isValidPath($path)) {
 			throw new NotPermittedException('Invalid path');
 		}
-		return $this->path . $this->normalizePath($path);
+		return $this->path . $path;
 	}
 
 	/**
@@ -371,12 +372,12 @@ protected function getByIdInRootMount(int $id): array {
 
 		return [$this->root->createNode(
 			$absolutePath, new \OC\Files\FileInfo(
-			$absolutePath,
-			$mount->getStorage(),
-			$cacheEntry->getPath(),
-			$cacheEntry,
-			$mount
-		))];
+				$absolutePath,
+				$mount->getStorage(),
+				$cacheEntry->getPath(),
+				$cacheEntry,
+				$mount
+			))];
 	}
 
 	public function getFreeSpace() {