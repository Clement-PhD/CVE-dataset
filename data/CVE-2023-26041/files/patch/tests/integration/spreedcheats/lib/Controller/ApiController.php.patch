@@ -25,8 +25,6 @@
 
 namespace OCA\SpreedCheats\Controller;
 
-use OCA\Talk\BackgroundJob\ExpireChatMessages;
-use OCP\AppFramework\Http;
 use OCP\AppFramework\OCSController;
 use OCP\AppFramework\Http\DataResponse;
 use OCP\IDBConnection;
@@ -103,24 +101,4 @@ public function resetSpreed(): DataResponse {
 
 		return new DataResponse();
 	}
-
-	/**
-	 * @NoCSRFRequired
-	 *
-	 * @return DataResponse
-	 */
-	public function getMessageExpirationJob(): DataResponse {
-		$query = $this->db->getQueryBuilder();
-		$query->select('id')
-			->from('jobs')
-			->where(
-				$query->expr()->eq('class', $query->createNamedParameter(ExpireChatMessages::class))
-			);
-		$result = $query->executeQuery();
-		$job = $result->fetchOne();
-		if ($job) {
-			return new DataResponse(['id' => (int) $job]);
-		}
-		return new DataResponse([], Http::STATUS_NOT_FOUND);
-	}
 }