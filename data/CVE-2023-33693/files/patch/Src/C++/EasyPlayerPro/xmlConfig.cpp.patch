@@ -40,7 +40,7 @@ int		XMLConfig::LoadConfig(char *filename, PRO_CONFIG_T *pConfig)
 			proConfig.channel[i].autoPlay = 0;
 		}
 
-		SaveConfig(filename, &proConfig);			//�����������ļ�, ����һ���µ������ļ�
+		SaveConfig(filename, &proConfig);			//不存在配置文件, 生成一个新的配置文件
 		if (NULL != pConfig)		memcpy(pConfig, &proConfig, sizeof(PRO_CONFIG_T));
 		return ret;
 	}
@@ -92,7 +92,7 @@ int		XMLConfig::LoadConfig(char *filename, PRO_CONFIG_T *pConfig)
 					TiXmlAttribute *pAttr = pCh->FirstAttribute();
 					while (NULL != pAttr)
 					{
-						if (0 == strcmp(pAttr->Name(), "URL"))				strcpy(proConfig.channel[chIdx].url, pAttr->Value());
+						if (0 == strcmp(pAttr->Name(), "URL"))				strncpy(proConfig.channel[chIdx].url, pAttr->Value(), URL_LENGTH);
 						else if (0 == strcmp(pAttr->Name(), "OSD"))			proConfig.channel[chIdx].showOSD =  atoi(pAttr->Value());
 						else if (0 == strcmp(pAttr->Name(), "Protocol"))	proConfig.channel[chIdx].protocol =  atoi(pAttr->Value());
 						else if (0 == strcmp(pAttr->Name(), "Cache"))		proConfig.channel[chIdx].cache =  atoi(pAttr->Value());
@@ -186,7 +186,7 @@ void	XMLConfig::SaveConfig(char *filename, PRO_CONFIG_T *pConfig)
 		pCh->SetAttribute("ShowToolbar", proConfig.channel[i].showToolbar);
 		pCh->SetAttribute("AutoPlay", proConfig.channel[i].autoPlay);
 	}
-	pRootElm->LinkEndChild(pChannel);                          //���ӵ��ڵ�RootLv1��  
+	pRootElm->LinkEndChild(pChannel);                          //链接到节点RootLv1下  
 
 	xmlDoc.InsertEndChild(*pRootElm) ;
 