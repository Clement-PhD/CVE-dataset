@@ -18,6 +18,8 @@
 import org.eclipse.jetty.http.HttpFieldPreEncoder;
 import org.eclipse.jetty.http.HttpHeader;
 import org.eclipse.jetty.http.HttpVersion;
+import org.eclipse.jetty.http.compression.HuffmanEncoder;
+import org.eclipse.jetty.http.compression.NBitIntegerEncoder;
 import org.eclipse.jetty.util.BufferUtil;
 
 /**
@@ -67,12 +69,12 @@ else if (header == HttpHeader.CONTENT_LENGTH && value.length() > 1)
 
         int nameIdx = HpackContext.staticIndex(header);
         if (nameIdx > 0)
-            NBitInteger.encode(buffer, bits, nameIdx);
+            NBitIntegerEncoder.encode(buffer, bits, nameIdx);
         else
         {
             buffer.put((byte)0x80);
-            NBitInteger.encode(buffer, 7, Huffman.octetsNeededLC(name));
-            Huffman.encodeLC(buffer, name);
+            NBitIntegerEncoder.encode(buffer, 7, HuffmanEncoder.octetsNeededLowerCase(name));
+            HuffmanEncoder.encodeLowerCase(buffer, name);
         }
 
         HpackEncoder.encodeValue(buffer, huffman, value);