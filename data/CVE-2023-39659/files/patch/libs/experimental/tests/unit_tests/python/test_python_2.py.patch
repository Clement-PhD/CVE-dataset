@@ -11,25 +11,24 @@
 )
 
 
+@pytest.mark.requires("wasm_exec")
 def test_python_repl_tool_single_input() -> None:
     """Test that the python REPL tool works with a single input."""
     tool = PythonREPLTool()
     assert tool.is_single_input
     assert int(tool.run("print(1 + 1)").strip()) == 2
 
 
+@pytest.mark.requires("wasm_exec")
 def test_python_repl_print() -> None:
     program = """
-import numpy as np
-v1 = np.array([1, 2, 3])
-v2 = np.array([4, 5, 6])
-dot_product = np.dot(v1, v2)
-print("The dot product is {:d}.".format(dot_product))
+    print("The dot product is {:d}.".format(32))
     """
     tool = PythonREPLTool()
-    assert tool.run(program) == "The dot product is 32.\n"
+    assert tool.run(program) == "The dot product is 32."
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -40,6 +39,7 @@ def test_python_ast_repl_tool_single_input() -> None:
     assert tool.run("1 + 1") == 2
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -68,6 +68,7 @@ def test_python_ast_repl_return() -> None:
     assert tool.run(program) == 32
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -82,6 +83,7 @@ def test_python_ast_repl_print() -> None:
     assert tool.run(program) == "racecar is a palindrome\n"
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -91,6 +93,7 @@ def test_repl_print_python_backticks() -> None:
     assert tool.run(program) == "`python` is a great language.\n"
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -109,6 +112,7 @@ def test_python_ast_repl_raise_exception() -> None:
     assert tool.run(program) in expected_outputs
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -118,6 +122,7 @@ def test_python_ast_repl_one_line_print() -> None:
     assert tool.run(program) == "The square of 3 is 9.00\n"
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )
@@ -128,6 +133,7 @@ def test_python_ast_repl_one_line_return() -> None:
     assert tool.run(program) == 55
 
 
+@pytest.mark.requires("wasm_exec")
 @pytest.mark.skipif(
     sys.version_info < (3, 9), reason="Requires python version >= 3.9 to run."
 )