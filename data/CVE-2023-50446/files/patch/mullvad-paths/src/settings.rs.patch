@@ -4,7 +4,15 @@ use std::{env, path::PathBuf};
 /// Creates and returns the settings directory pointed to by `MULLVAD_SETTINGS_DIR`, or the default
 /// one if that variable is unset.
 pub fn settings_dir() -> Result<PathBuf> {
-    crate::create_and_return(get_settings_dir, None)
+    #[cfg(not(target_os = "windows"))]
+    {
+        crate::create_and_return(get_settings_dir, None)
+    }
+
+    #[cfg(target_os = "windows")]
+    {
+        crate::create_and_return(get_settings_dir, false)
+    }
 }
 
 fn get_settings_dir() -> Result<PathBuf> {