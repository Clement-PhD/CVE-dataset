use std::env;

use cve_dataset::load_from_folder;

mod cve_commit;
mod patch;
mod language;
mod errors;
mod params;




fn main() {
    let args: Vec<String> = env::args().collect();
    if args.len() < 2 {
        println!("Usage: {} <folder_path>", args[0]);
        return;
    }

    let folder_path = &args[1];

    let cve_commits = load_from_folder(folder_path);

    print!("{} cve commits loaded", cve_commits.len());

    let limit_cve_commits = cve_commits.into_iter().take(10).collect::<Vec<_>>();
    
    for cve_commit in limit_cve_commits {
        println!("{:?}", cve_commit);
    }
}